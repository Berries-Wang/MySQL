# DISTINCT Optimization
&nbsp;&nbsp;DISTINCT combined with ORDER BY needs a temporary table in many cases.（DISTINCT 和 ORDER BY 一起使用在很多时候都需要一张临时表）

&nbsp;&nbsp;Because DISTINCT may use GROUP BY, learn how MySQL works with columns in ORDER BY or HAVING clauses that are not part of the selected columns.see[006.MySQL查询优化与调优工具集/017.GROUP BY Optimization.md](./017.GROUP%20BY%20Optimization.md) （因为DISTINCT可能会使用GROUP BY，所以了解MySQL如何处理ORDER BY列，以及如何处理不属于所选列的子句。参考:[006.MySQL查询优化与调优工具集/017.GROUP BY Optimization.md](./017.GROUP%20BY%20Optimization.md)）

&nbsp;&nbsp;In most cases, a DISTINCT clause can be considered as a special case of GROUP BY.  For example, the following two queries are equivalent:(在大多数情况下，一个DISTINCT的子句可以被认为是GROUP BY的一个特殊情况。例如，下面两个查询是等效的:)
```sql
    SELECT DISTINCT c1, c2, c3 FROM t1
    WHERE c1 > const;
    
    SELECT c1, c2, c3 FROM t1
    WHERE c1 > const GROUP BY c1, c2, c3;
```

&nbsp;&nbsp;Due to this equivalence, the optimizations applicable<sup>adj.适用的，适当的</sup> to GROUP BY queries can be also applied to queries with a DISTINCT clause. Thus, for more details on the optimization possibilities<sup>n.可能性；发展潜力，发展可能（possibility 的复数）</sup> for DISTINCT queries, see Section 8.2.1.17, “GROUP BY Optimization”.

&nbsp;&nbsp;When combining LIMIT row_count with DISTINCT, MySQL stops as soon as it finds row_count unique rows. (当DISTINCT和LIMIT row_count联合使用，MySQL会在找到row_count行数据后立即停止)

&nbsp;&nbsp;If you do not use columns from all tables named in a query, MySQL stops scanning any unused tables as soon as it finds the first match. In the following case, assuming that t1 is used before t2 (which you can check with EXPLAIN), MySQL stops reading from t2 (for any particular row in t1) when it finds the first row in t2:(如果您没有使用查询中指定的所有表中的列，MySQL一旦找到第一个匹配项就会停止扫描任何未使用的表。在下面的例子中，假设t1在t2之前使用(你可以用EXPLAIN检查)，MySQL在找到t2中的第一行时停止从t2读取(对于t1中的任何特定行):)
```sql
    SELECT DISTINCT t1.a FROM t1, t2 where t1.a=t2.a;
```

## 参考资料
1. [DISTINCT Optimization](https://dev.mysql.com/doc/refman/8.2/en/distinct-optimization.html)