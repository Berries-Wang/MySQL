#  InnoDB Backup
## 摘要

## 文档
&nbsp;&nbsp;The key to safe database management is making regular backups. Depending on your data volume, number of MySQL servers, and database workload, you can use these backup techniques, alone or in combination: hot backup with MySQL Enterprise Backup; cold backup by copying files while the MySQL server is shut down; logical backup with mysqldump for smaller data volumes or to record the structure of schema objects. Hot and cold backups are physical backups that copy actual data files, which can be used directly by the mysqld server for faster restore.(安全数据库管理的关键是定期备份。根据你的数据量、MySQL服务器的数量和数据库的工作负载，你可以单独或结合使用这些备份技术:与MySQL企业备份热备份;通过在MySQL服务器关闭时复制文件进行冷备份;使用mysqldump进行逻辑备份，用于较小的数据量或记录模式对象的结构。热备份和冷备份是复制实际数据文件的物理备份，可以由mysqld服务器直接使用，以便更快地恢复。)

&nbsp;&nbsp;Using MySQL Enterprise Backup is the recommended method for backing up InnoDB data.(使用MySQL企业备份是备份InnoDB数据的推荐方法。)

### Hot Backups
&nbsp;&nbsp;The mysqlbackup command, part of the MySQL Enterprise Backup component, lets you back up a running MySQL instance, including InnoDB tables, with minimal disruption to operations while producing a consistent snapshot of the database. When mysqlbackup is copying InnoDB tables, reads and writes to InnoDB tables can continue. MySQL Enterprise Backup can also create compressed backup files, and back up subsets of tables and databases. In conjunction with the MySQL binary log, users can perform point-in-time recovery. MySQL Enterprise Backup is part of the MySQL Enterprise subscription. For more details, see [“MySQL Enterprise Backup“](./000.MySQL%20Enterprise%20Backup.md).(mysqlbackup命令，MySQL企业备份组件的一部分，允许你备份一个正在运行的MySQL实例，包括InnoDB表，以最小的中断操作，同时产生一个一致的数据库快照。当mysqlbackup正在复制InnoDB表时，对InnoDB表的读写可以继续。MySQL企业备份还可以创建压缩备份文件，备份表和数据库的子集。结合MySQL二进制日志，用户可以执行时间点恢复。MySQL企业备份是MySQL企业订阅的一部分。)

### Cold Backups
&nbsp;&nbsp;If you can shut down the MySQL server, you can make a physical backup that consists of all files used by InnoDB to manage its tables. Use the following procedure:

1. Perform a slow shutdown of the MySQL server and make sure that it stops without errors.
2. Copy all InnoDB data files (ibdata files and .ibd files) into a safe place.
3. Copy all InnoDB redo log files (#ib_redoN files in MySQL 8.0.30 and higher or ib_logfile files in earlier releases) to a safe place.
4. Copy your my.cnf configuration file or files to a safe place.

### Logical Backups Using mysqldump
&nbsp;&nbsp;In addition to physical backups, it is recommended that you regularly create logical backups by dumping your tables using mysqldump. A binary file might be corrupted without you noticing it. Dumped tables are stored into text files that are human-readable, so spotting table corruption becomes easier. Also, because the format is simpler, the chance for serious data corruption is smaller. mysqldump also has a --single-transaction option for making a consistent snapshot without locking out other clients. (除了物理备份之外，建议您定期通过使用mysqldump转储表来创建逻辑备份。二进制文件可能在您没有注意到的情况下被损坏。转储的表存储在人类可读的文本文件中，因此发现表损坏变得更容易。此外，由于格式更简单，严重数据损坏的可能性更小。Mysqldump还有一个--single-transaction选项，用于在不锁定其他客户端的情况下创建一致性快照。参考:[Establishing a Backup Policy](./002.Establishing%20a%20Backup%20Policy.md))
> 除了物理备份，还建议进行逻辑备份.

&nbsp;&nbsp;Replication works with InnoDB tables, so you can use MySQL replication capabilities to keep a copy of your database at database sites requiring high availability. (复制与InnoDB表一起工作，因此您可以使用MySQL复制功能在需要高可用性的数据库站点上保留数据库的副本。参考:[InnoDB and MySQL Replication]([./003.InnoDB%20and%20MySQL%20Replication.md](https://dev.mysql.com/doc/refman/8.0/en/innodb-and-mysql-replication.html)))

## 参考资料
1. [https://dev.mysql.com/doc/refman/8.0/en/innodb-backup.html](https://dev.mysql.com/doc/refman/8.0/en/innodb-backup.html)