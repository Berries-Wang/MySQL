# Online DDL
&nbsp;&nbsp;MySQL5.6允许辅助索引创建的同时，还允许其他 INSERT,UPDATE,DELETE这类DML操作，这极大提高了MySQL在生产环境的可用性。

&nbsp;&nbsp;不仅仅是辅助索引，如下几类DDL操作都可以通过在线的方式进行操作:
1. 辅助索引的创建和删除
2. 改变自增长值
3. 添加或者删除外检约束
4. 列的重命名
5. ....更多操作，而非仅此而已(参考官方文档)


## 值解析
```sql
    ALTER TABLE tbl_name MODIFY COLUMN column_name data_type NULL, ALGORITHM=INPLACE, LOCK=NONE;

    # ALGORITHM 可选：
    ## | COPY |表示按照MySQL5.1版本之前的工作模式，即创建临时表的方式|
    ## | INPLACE |表示索引创建或删除不需要创建临时表|
    ## | DEFAULT |表示根据参数old_alter_table来判断是通过INPLACE 还是 COPY 的算法，该参数默认值为OFF,即采用INPLACE算法|

    # Oneline DDL 工作方式
    ## InnoDB存储引擎实现Online DDL的原理是在执行创建或删除操作的同时，将INSERT,UPDATE,DELETE这类DML操作日志写入到一个缓存中。待完成索引的创建后再将重做引用到表上，以此达到数据的一致性。
    ## 该缓存大小由innodb_online_alter_log_max_size 控制，默认值为128MB。如果日志超过这个阈值，则会报错。
```

## 参考资料
1. [14.13.1 Online DDL Operations](https://dev.mysql.com/doc/refman/5.7/en/innodb-online-ddl-operations.html) 
2. MySQL-5.7-Reference-Manual-14.13.1-Online-DDL-Operations.pdf (即官方文档)