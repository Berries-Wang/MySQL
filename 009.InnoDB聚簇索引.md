# InnoDB聚簇索引
## 什么是聚簇
&nbsp;&nbsp;“聚簇” 表示数据行和相邻的键值紧凑的存储在一起
## 什么是聚簇索引
&nbsp;&nbsp;聚簇索引并不是一种单独的索引类型，而是一种数据存储方式。
<img src="./pics/mysql_index_002.png"/>

&nbsp;&nbsp;如上图，表数据就是按照聚簇索引ID来组织数据的

## 优点
1. 可以将相关数据保存在一起
2. 数据访问更快，聚簇索引将索引和数据保存在同一个B+Tree中，因此从聚簇索引中获取数据通常比在被聚簇索引中查找更快
3. 使用覆盖索引扫描的查询可以直接使用页节点中的主键值

## 缺点
1. 聚簇索引最大限度的提高了I/O密集型应用的性能，但是如果数据全部在内存中，则访问的顺序就没那么重要了
2. 查询速度严重依赖于插入顺序。按照主键的顺序插入是加载数据到InnoDB表中速度最快的方式，但是如果不是按照主键顺序加载数据，那么在完成后最好使用OPTIMIZE TABLE命令重新组织一下表
3. 更新聚簇索引的代价很高，读一下《006.思考-为什么主键ID必须是自增的.md》，因为会强制InnoDB将每个被更新的行移动到新的位置
4. 基于聚簇索引的表插入新行，或者主键被更新导致需要移动行的时候，可能面临页分裂问题
5. 聚簇索引可能导致全表扫描很慢，尤其是行比较稀疏，或者由于页分裂导致数据存储不连续
6. 二级索引（非聚簇索引）可能比想象的要更大，因为在二级索引的叶子节点中包含了引用行的主键列。
7. 二级索引访问需要两次索引查找，而不是一次。